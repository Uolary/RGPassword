const outputPassword=document.querySelector(".output-password span"),cdnScript=document.querySelector("script#cdn-algorithm"),inputCheckboxSymbols=document.querySelector(".spec-symbols input"),inputCase=document.querySelectorAll(".letter-case input"),inputLengthPassword=document.querySelector(".length-password input"),inputHashing=document.querySelectorAll(".select-hashing input"),btnCreatePassword=document.querySelector(".create-password"),specSymbols=["%",":","*","#","@","%","&"],hashings={md2:e=>md2(e),md4:e=>md4(e),md5:e=>md5(e),sha1:e=>sha1(e),sha256:e=>sha256(e)};let activeHashing="md5";for(let e=0;e<inputHashing.length;e++)inputHashing[e].addEventListener("click",(function(){activeHashing=inputHashing[e].value,console.log(`Active algorithm hashing: ${activeHashing}`)}));function changeByOptions(e){let t=e.split(""),n=getRandomInRange(2,(t=checkLengthPassword(t)).length-1);for(let e=0;e<t.length;e++)inputCheckboxSymbols.checked&&e%n==0&&0!=e&&(t[e]=specSymbols[getRandomInRange(0,specSymbols.length-1)]);if("mixedcase"==check())for(let e=0;e<t.length;e++)e%(n%=3)==0&&0!=e&&(t[e]=t[e].toUpperCase());else if("uppercase"==check())for(let e=0;e<t.length;e++)t[e]=t[e].toUpperCase();else if("lowercase"==check())for(let e=0;e<t.length;e++)t[e]=t[e].toLowerCase();return t.join("")}function createRandomNumber(){let e=new Uint32Array(1);return(window.crypto||window.msCrypto).getRandomValues(e),(Array.prototype.slice.call(e)||Array.from(e)).join()}function check(){for(let e=0;e<inputCase.length;e++)if("radio"==inputCase[e].type&&inputCase[e].checked)return inputCase[e].value}function getRandomInRange(e,t){return Math.floor(Math.random()*(t-e+1))+e}function checkNumberLength(e){let t=String(e).split("");if(t.length<10)for(let e=t.length;e<10;e++)t[e]=0;return t=Number(t.join(""))}function checkLengthPassword(e){let t=inputLengthPassword.value,n=e;return n=n.slice(0,t)}btnCreatePassword.addEventListener("click",(function(){let e=0;checkNumberLength(e=Modernizr.getrandomvalues?createRandomNumber():getRandomInRange(0,1e9));let t=hashings[activeHashing](e);t=changeByOptions(t),outputPassword.innerHTML=t,console.log(`Random number: ${e}`)})),inputLengthPassword.addEventListener("change",(function(){this.value>32?this.value=32:this.value<4&&(this.value=4)}));